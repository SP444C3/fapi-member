!function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),document.addEventListener("click",(e=>{if(e.target.matches(".levels .remove")){let t=e.target.parentNode.getAttribute("data-id");Swal.fire({html:"<strong>Opravdu si přejete odstranit členskou sekci/úroveň?</strong><br><br>Smazáním sekce/úrovně nedojde ke smazání stránek v sekci/úrovni.",showDenyButton:!0,confirmButtonText:"Smazat",denyButtonText:"Ponechat",customClass:{confirmButton:"removeConfirmButton",denyButton:"removeDenyButton"}}).then((e=>{if(e.isConfirmed){let e=document.getElementById("LevelRemoveForm");e.querySelector('[name="level_id"]').setAttribute("value",t),e.submit()}else e.isDenied}))}})),document.addEventListener("click",(e=>{if(e.target.matches(".levels .edit")){let t=e.target.parentNode.getAttribute("data-name"),n=e.target.parentNode.getAttribute("data-id");Swal.fire({input:"text",inputLabel:"Nový název",inputValue:t,showDenyButton:!0,confirmButtonText:"Přejmenovat",denyButtonText:"Ponechat",customClass:{confirmButton:"renameConfirmButton",denyButton:"renameDenyButton"}}).then((e=>{if(e.isConfirmed){let t=document.getElementById("LevelEditForm");t.querySelector('[name="level_id"]').setAttribute("value",n),t.querySelector('[name="name"]').setAttribute("value",e.value),t.submit()}else e.isDenied}))}})),document.addEventListener("click",(t=>{if(t.target.matches("form.pages button")){t.preventDefault();let n=e(),r=t.target.closest("form");r.querySelector('[name="level_id"]').value=n,r.submit()}})),document.addEventListener("click",(e=>{(e.target.matches(".oneEmail .carret")||e.target.matches(".oneEmail .header h3"))&&e.target.closest(".oneEmail").classList.toggle("open")})),document.addEventListener("click",(e=>{if(e.target.matches(".specifyLevelEmailCheckbox")){let t=e.target.closest(".oneEmail").querySelector(".body > p"),n=e.target.closest(".oneEmail").querySelector("#mail_subject"),r=e.target.closest(".oneEmail").querySelector("#mail_body"),o=e.target.closest(".oneEmail").querySelector(".inputs");e.target.checked?(t.classList.add("hidden"),n.removeAttribute("readonly"),r.removeAttribute("readonly"),o.classList.remove("collapsed")):(t.classList.remove("hidden"),n.value="",r.value="",n.setAttribute("readonly",!0),r.setAttribute("readonly",!0),o.classList.add("collapsed"))}})),document.addEventListener("click",(e=>{(e.target.matches(".shortcodes h3")||e.target.matches(".shortcodes h3 .carret"))&&e.target.closest(".shortcodes").classList.toggle("open")}));const e=()=>{let e=document.querySelector(".levels li.selected");return e?parseInt(e.getAttribute("data-id")):null},t=()=>{let e=document.querySelectorAll(".fapiMembership");e.length<=0||Array.from(e).forEach((e=>{let t=e.querySelectorAll(".isUnlimitedInput");Array.from(t).forEach((t=>{let n=t.getAttribute("name").replace("isUnlimited","membershipUntil"),r=e.querySelector('[name="'+n+'"]'),o=e.querySelector('[data-for="'+n+'"]');t.checked?(r.classList.add("contentHidden"),o.classList.add("contentHidden")):(r.classList.remove("contentHidden"),o.classList.remove("contentHidden"))}))}))};document.addEventListener("click",(e=>{e.target.matches(".fapiMembership .isUnlimitedInput")&&t()})),document.addEventListener("DOMContentLoaded",t),document.addEventListener("click",(e=>{if(e.target.matches(".levels .up")||e.target.matches(".levels .down")){let t=e.target.matches(".levels .up")?"up":"down",n=e.target.parentNode.getAttribute("data-id");console.log(n),console.log(t);let r=document.getElementById("LevelOrderForm");r.querySelector('[name="id"]').setAttribute("value",n),r.querySelector('[name="direction"]').setAttribute("value",t),r.submit()}}))}();