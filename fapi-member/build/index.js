!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.blockEditor,r=window.wp.apiFetch,o=e.n(r);const{addFilter:i}=wp.hooks,{__:__}=wp.i18n,{createHigherOrderComponent:a}=wp.compose,{Fragment:l,useState:s}=wp.element,{PanelBody:c,CheckboxControl:p,RadioControl:d}=wp.components,u=["core/paragraph","core/image","core/video","core/heading","core/list","core/galery","core/audio","core/buttons","core/column","core/columns"];let b=[];const m="undefined"==typeof AbortController?void 0:new AbortController;o()({path:"/?rest_route=/fapi/v1/sections-simple",signal:null==m?void 0:m.signal}).then((e=>{b=e})).catch((e=>{b=[],console.error(e),"AbortError"===e.name&&console.error("Request has been aborted")})),i("blocks.registerBlockType","fapi-member/fapi-section-and-level-attributes",(e=>e.attributes&&u.includes(e.name)?(e.attributes={...e.attributes,fapiSectionAndLevels:{type:"string",default:"[]"},hasSectionOrLevel:{type:"string",default:"1"}},e):e)),i("editor.BlockEdit","fapi-member-core-block-extender/section-and-levels",a((e=>r=>{if(!u.includes(r.name))return(0,t.createElement)(e,r);r.attributes.hasOwnProperty("hasSectionOrLevel")||(r.attributes.hasSectionOrLevel="1"),r.attributes.hasOwnProperty("fapiSectionAndLevels")||(r.attributes.fapiSectionAndLevels="[]");const[o,i]=s(r.attributes.hasSectionOrLevel),[a,m]=s(JSON.parse(r.attributes.fapiSectionAndLevels));return(0,t.createElement)(l,null,(0,t.createElement)(e,r),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(c,{title:__("FAPI Member","fapi-member"),initialOpen:!0},(0,t.createElement)(d,{label:__("Zobrazit pokud člen","fapi-member"),help:__("Obsah se zobrazí v případě že člen je/není přiřazený v členské sekci nebo úrovni.","fapi-member"),selected:o,options:[{label:__("je v sekci nebo úrovní","fapi-member"),value:"1"},{label:__("není v sekci nebo úrovni","fapi-member"),value:"0"}],onChange:e=>(r.setAttributes({hasSectionOrLevel:e}),i(e))}),b.map((e=>(0,t.createElement)(p,{key:e.id,label:e.name,checked:a.includes(e.id),value:e.id,onChange:t=>{((e,t,n)=>{const o=JSON.parse(r.attributes.fapiSectionAndLevels);if(!1===t){const t=o.indexOf(e);t>-1&&o.splice(t,1)}else o.push(e);r.setAttributes({fapiSectionAndLevels:JSON.stringify(o)}),n(o)})(e.id,t,m)}}))))))}),"withFapiSectionAndLevels")),i("blocks.getSaveContent.extraProps","fapi-member-core-block-extender/get-save-content-extra-props",((e,t,n)=>u.includes(t)?(e.hasSectionOrLevel&&(e.hasSectionOrLevel=n.hasSectionOrLevel),e.fapiSectionAndLevels&&(e.fapiSectionAndLevels=JSON.stringify(n.fapiSectionAndLevels)),e):e))}();