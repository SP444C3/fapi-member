!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.blockEditor,o=window.wp.apiFetch,r=e.n(o);const{addFilter:i}=wp.hooks,{__:__}=wp.i18n,{createHigherOrderComponent:a}=wp.compose,{Fragment:l,useState:s}=wp.element,{PanelBody:c,CheckboxControl:p,RadioControl:d}=wp.components;let b=[];const u="undefined"==typeof AbortController?void 0:new AbortController;r()({path:"/?rest_route=/fapi/v1/sections-simple",signal:null==u?void 0:u.signal}).then((e=>{b=e})).catch((e=>{b=null,console.error(e),"AbortError"===e.name&&console.error("Request has been aborted")})),i("blocks.registerBlockType","fapi-member/fapi-section-and-level-attributes",(e=>e.attributes?(e.attributes={...e.attributes,fapiSectionAndLevels:{type:"string",default:"[]"},hasSectionOrLevel:{type:"string",default:"1"}},e):e)),i("editor.BlockEdit","fapi-member-core-block-extender/section-and-levels",a((e=>o=>{const[r,i]=s(o.attributes.hasSectionOrLevel);return(0,t.createElement)(l,null,(0,t.createElement)(e,o),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(c,{title:__("FAPI Member","fapi-member"),initialOpen:!0},(0,t.createElement)(d,{label:__("Zobrazit pokud člen","fapi-member"),help:__("Obsah se zobrazí v případě že člen je/není přiřazený v členské sekci nebo úrovni.","fapi-member"),selected:r,options:[{label:__("je v sekci nebo úrovní","fapi-member"),value:"1"},{label:__("není v sekci nebo úrovni","fapi-member"),value:"0"}],onChange:e=>(o.setAttributes({hasSectionOrLevel:e}),i(e))}),b.map((e=>{const n=JSON.parse(o.attributes.fapiSectionAndLevels),[r,i]=s(n.includes(e.id));return(0,t.createElement)(p,{key:e.id,label:e.name,checked:r,value:e.id,onChange:t=>{i(t),o.setAttributes({newfapiSectionAndLevels:"test"}),((e,t)=>{const n=JSON.parse(o.attributes.fapiSectionAndLevels);if(!1===t){const t=n.indexOf(e);t>-1&&n.splice(t,1)}else n.push(e);o.setAttributes({fapiSectionAndLevels:JSON.stringify(n)})})(e.id,t)}})})))))}),"withFapiSectionAndLevels")),i("blocks.getSaveContent.extraProps","fapi-member-core-block-extender/get-save-content-extra-props",((e,t,n)=>(e.hasSectionOrLevel&&(e.hasSectionOrLevel=n.hasSectionOrLevel),e.fapiSectionAndLevels&&(e.fapiSectionAndLevels=JSON.stringify(n.fapiSectionAndLevels)),e)))}();